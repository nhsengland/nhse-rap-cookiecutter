{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"NHS RAP Cookiecutter Template","text":"<p>A Cookiecutter template for creating standardised NHS England Reproducible Analytical Pipeline (RAP) projects.</p>"},{"location":"#overview","title":"Overview","text":"<p>This template provides a standardised project structure for developing Reproducible Analytical Pipelines within NHS England. It includes pre-configured tooling for testing, linting, documentation, and dependency management following modern Python development practices.</p> <p>What you get:</p> <ul> <li>Standardised structure following RAP principles</li> <li>Pre-configured tooling for testing, linting, and formatting</li> <li>Multiple environment options (uv, conda, poetry, virtualenv, etc.)</li> <li>NHS-branded documentation ready to customise</li> <li>Security scanning with gitleaks pre-commit hook</li> <li>Flexible configuration for different project needs</li> </ul>"},{"location":"#what-is-rap","title":"What is RAP?","text":"<p>Reproducible Analytical Pipelines (RAP) is a set of tools, principles, and techniques to help you improve your analytical processes. With RAP, you leverage open-source tools to make your work more efficient, more reusable, and less error-prone.</p> <p>Learn more at the NHS RAP Community of Practice.</p> <p>Core RAP Principles:</p> Principle Description Automation Minimise manual, error-prone steps. Automate data retrieval, processing, and output generation. Modular, reusable code Write code in independent, loosely-coupled functions that can be tested and reused. Transparency Publish code openly under appropriate licences to improve trust and collaboration. Open-source tools Use Python, R, SQL, and other freely available languages instead of proprietary software. Version control Use Git to track changes, enable collaboration, and maintain an audit trail. Good coding practices Follow standards like PEP8, write clear documentation, and use logical project structures. Testing Implement automated tests to ensure reliability and catch errors early. Peer review Review code collaboratively to ensure quality, accuracy, and adherence to standards."},{"location":"#installation","title":"Installation","text":"<p>This package is not published to PyPI. Install directly from GitHub:</p> <p>pipx (recommended for CLI tools):</p> <pre><code>pipx install git+https://github.com/nhsengland/nhse-rap-cookiecutter.git\n</code></pre> <p>See the pipx documentation for installation instructions.</p> <p>uv:</p> <pre><code>uv tool install git+https://github.com/nhsengland/nhse-rap-cookiecutter.git\n</code></pre> <p>See the uv documentation for installation instructions.</p> <p>pip:</p> <pre><code>pip install git+https://github.com/nhsengland/nhse-rap-cookiecutter.git\n</code></pre>"},{"location":"#quick-start","title":"Quick Start","text":"<p>Using the CLI:</p> <pre><code>nhs-rap-template\n</code></pre> <p>Using cookiecutter directly:</p> <pre><code>cookiecutter gh:nhsengland/nhse-rap-cookiecutter\n</code></pre>"},{"location":"#configuration-options","title":"Configuration Options","text":"<p>The template prompts for the following:</p> Category Option Description Choices Project project_name Human-readable project name Text description Brief project description Text author_name Your full name Text author_email Your email address Text organization_name Your organisation Text organization_email Organisation contact email Text Python python_version_number Minimum Python version 3.10, 3.11, 3.12 environment_manager Virtual environment tool virtualenv, conda, pipenv, uv, pixi, poetry, none dependency_file Dependency management file requirements.txt, pyproject.toml, environment.yml, Pipfile pydata_packages Include pandas, numpy, matplotlib yes, no Options include_code_scaffold Include example code modules yes, no testing_framework Testing framework pytest, unittest license Project licence MIT, BSD-3-Clause, none documentation Documentation tool mkdocs, none"},{"location":"#generated-project-structure","title":"Generated Project Structure","text":"<pre><code>your-project/\n\u251c\u2500\u2500 data/\n\u2502   \u251c\u2500\u2500 external/        # Data from third-party sources\n\u2502   \u251c\u2500\u2500 interim/         # Intermediate transformed data\n\u2502   \u251c\u2500\u2500 processed/       # Final canonical datasets\n\u2502   \u2514\u2500\u2500 raw/             # Original immutable data\n\u251c\u2500\u2500 docs/                # MkDocs documentation with NHS styling\n\u251c\u2500\u2500 models/              # Trained models and predictions\n\u251c\u2500\u2500 notebooks/           # Jupyter notebooks for exploration\n\u251c\u2500\u2500 references/          # Data dictionaries and documentation\n\u251c\u2500\u2500 reports/\n\u2502   \u2514\u2500\u2500 figures/         # Generated graphics\n\u251c\u2500\u2500 tests/\n\u2502   \u251c\u2500\u2500 pytest/          # Pytest tests\n\u2502   \u2514\u2500\u2500 unittest/        # Unittest tests\n\u251c\u2500\u2500 your_module/         # Source code package\n\u2502   \u251c\u2500\u2500 __init__.py\n\u2502   \u251c\u2500\u2500 config.py        # Configuration management\n\u2502   \u251c\u2500\u2500 dataset.py       # Data loading and processing\n\u2502   \u251c\u2500\u2500 features.py      # Feature engineering\n\u2502   \u251c\u2500\u2500 plots.py         # Visualisation functions\n\u2502   \u2514\u2500\u2500 modeling/\n\u2502       \u251c\u2500\u2500 train.py     # Model training\n\u2502       \u2514\u2500\u2500 predict.py   # Model inference\n\u251c\u2500\u2500 LICENSE\n\u251c\u2500\u2500 Makefile             # Convenience commands\n\u251c\u2500\u2500 README.md\n\u2514\u2500\u2500 pyproject.toml       # Project configuration and dependencies\n</code></pre> <p>Each directory serves a specific purpose in the RAP workflow. The structure follows data science best practices while accommodating NHS-specific requirements.</p>"},{"location":"#next-steps","title":"Next Steps","text":"<ul> <li>Getting Started - Step-by-step guide to your first project</li> <li>Usage Guide - Configuration options and workflows</li> <li>Contributing - Help improve the template</li> </ul>"},{"location":"#licence","title":"Licence","text":"<p>Unless stated otherwise, the codebase is released under the MIT Licence. This covers both the codebase and any sample code in the documentation.</p> <p>HTML and Markdown documentation is \u00a9 Crown copyright and available under the terms of the Open Government 3.0 licence.</p>"},{"location":"#acknowledgements","title":"Acknowledgements","text":"<p>This template is based on Cookiecutter Data Science, adapted for NHS England RAP standards and modern Python tooling.</p>"},{"location":"contributing/","title":"Contributing","text":"<p>We welcome contributions to the NHS RAP Cookiecutter Template.</p>"},{"location":"contributing/#development-setup","title":"Development Setup","text":"<ol> <li>Clone the repository:</li> </ol> <pre><code>git clone https://github.com/nhsengland/nhse-rap-cookiecutter.git\ncd nhse-rap-cookiecutter\n</code></pre> <ol> <li>Install dependencies:</li> </ol> <pre><code>uv sync --all-extras\n</code></pre> <ol> <li>Install pre-commit hooks:</li> </ol> <pre><code>uv run pre-commit install\n</code></pre>"},{"location":"contributing/#making-changes","title":"Making Changes","text":"<p>Create a branch for your changes:</p> <pre><code>git checkout -b feature/your-feature-name\n</code></pre>"},{"location":"contributing/#running-tests","title":"Running Tests","text":"<p>All tests must pass before submitting changes:</p> <pre><code>uv run pytest tests/unittests/ -v\n</code></pre> <p>With coverage:</p> <pre><code>uv run pytest tests/unittests/ --cov=nhse_rap_cookiecutter --cov-report=term-missing\n</code></pre>"},{"location":"contributing/#code-quality","title":"Code Quality","text":"<p>Format and lint before committing:</p> <pre><code>uv run ruff format .\nuv run ruff check .\n</code></pre>"},{"location":"contributing/#testing-the-template","title":"Testing the Template","text":"<p>Generate a test project to verify your changes:</p> <pre><code>uv run nhs-rap-template --no-input\n</code></pre>"},{"location":"contributing/#code-standards","title":"Code Standards","text":"Standard Description Type hints Use type hints for all function parameters and return values Docstrings Write Google-style docstrings for all functions and classes Naming Use descriptive variable and function names Paths Use <code>pathlib.Path</code> instead of string paths Logging Use <code>loguru</code> for logging (not the standard <code>logging</code> module) Formatting Code is formatted with <code>ruff format</code> Linting Code passes <code>ruff check</code> with no errors"},{"location":"contributing/#example-docstring","title":"Example Docstring","text":"<pre><code>def process_data(input_path: Path, config: dict) -&gt; pd.DataFrame:\n    \"\"\"Process raw data according to configuration.\n\n    Args:\n        input_path: Path to the input CSV file.\n        config: Configuration dictionary with processing options.\n\n    Returns:\n        Processed DataFrame with standardised columns.\n\n    Raises:\n        FileNotFoundError: If input_path does not exist.\n        ValueError: If config is missing required keys.\n    \"\"\"\n</code></pre>"},{"location":"contributing/#testing-standards","title":"Testing Standards","text":"<p>Tests are organised in <code>tests/unittests/</code> using pytest:</p> Guideline Description Test classes Organise tests in classes for clear grouping Single responsibility Each test method should test ONE behaviour Parametrize Use <code>pytest.mark.parametrize</code> for multiple input variations Fixtures Use <code>tmp_path</code> fixtures for file system operations Assertions Assert exact expected values, not fuzzy matching"},{"location":"contributing/#dependency-management","title":"Dependency Management","text":"<p>Dependencies are managed in <code>pyproject.toml</code>:</p> <ul> <li><code>dependencies</code> - Runtime dependencies</li> <li><code>dev</code> - Development dependencies (pytest, ruff, etc.)</li> <li><code>docs</code> - Documentation dependencies (mkdocs, etc.)</li> </ul> <p>Update the lock file after changes:</p> <pre><code>uv lock\n</code></pre>"},{"location":"contributing/#pull-request-process","title":"Pull Request Process","text":"<ol> <li>Create a feature branch from <code>main</code></li> <li>Make your changes following the code standards</li> <li>Ensure all tests pass</li> <li>Run formatting and linting</li> <li>Update documentation if needed</li> <li>Create a pull request with a clear description</li> </ol>"},{"location":"contributing/#commit-message-format","title":"Commit Message Format","text":"<pre><code>type(scope): brief description\n\nLonger explanation if needed.\n</code></pre> <p>Types: <code>feat</code>, <code>fix</code>, <code>docs</code>, <code>style</code>, <code>refactor</code>, <code>test</code>, <code>chore</code></p>"},{"location":"contributing/#pre-commit-hooks","title":"Pre-commit Hooks","text":"<p>The following hooks run automatically on commit:</p> Hook Purpose ruff Linting with auto-fix ruff-format Code formatting check-yaml Validate YAML files check-toml Validate TOML files gitleaks Check for hardcoded secrets"},{"location":"contributing/#documentation","title":"Documentation","text":"<p>Documentation is built with MkDocs Material. To preview changes:</p> <pre><code>make docs-serve\n</code></pre> <p>Or directly with the required flag:</p> <pre><code>uv run mkdocs serve --livereload\n</code></pre> <p>MkDocs Live Reload Bug</p> <p>Due to a bug in this version of MkDocs, the <code>--livereload</code> flag is required for live reloading to work properly. The <code>make docs-serve</code> command includes this flag automatically.</p> <p>Then visit <code>http://localhost:8000</code>.</p>"},{"location":"contributing/#getting-help","title":"Getting Help","text":"<ul> <li>Issues: Use GitHub Issues for bug reports and feature requests</li> <li>Discussions: Use GitHub Discussions for questions and ideas</li> </ul>"},{"location":"contributing/#licence","title":"Licence","text":"<p>By contributing, you agree that your contributions will be licensed under the MIT Licence. Documentation contributions are released under Crown Copyright with the Open Government Licence v3.0.</p>"},{"location":"getting_started/","title":"Getting Started","text":"<p>This guide will help you install NHS RAP Cookiecutter Template and create your first project.</p>"},{"location":"getting_started/#prerequisites","title":"Prerequisites","text":"Requirement Version Description Python 3.10+ Required for running the template tool Git Latest Version control system for your projects uv (Recommended) Latest Fast Python package manager"},{"location":"getting_started/#installation","title":"Installation","text":"<p>This package is not yet published to PyPI. Install directly from GitHub:</p> pipx (Recommended)uvpip <p>Since this is a command-line tool, pipx is the recommended installation method:</p> <pre><code>pipx install git+https://github.com/nhsengland/nhse-rap-cookiecutter.git\n</code></pre> <p>Learn more about pipx</p> <pre><code>uv tool install git+https://github.com/nhsengland/nhse-rap-cookiecutter.git\n</code></pre> <p>Learn more about uv</p> <pre><code>pip install git+https://github.com/nhsengland/nhse-rap-cookiecutter.git\n</code></pre> <p>Why pipx or uv tool?</p> <p><code>pipx</code> and <code>uv tool</code> install command-line tools in isolated environments, preventing dependency conflicts with your other Python projects.</p>"},{"location":"getting_started/#creating-your-first-project","title":"Creating Your First Project","text":""},{"location":"getting_started/#option-1-using-nhs-rap-template-cli","title":"Option 1: Using NHS RAP Template CLI","text":"<p>If you installed the package with pipx/uv/pip:</p> <pre><code>nhs-rap-template\n</code></pre>"},{"location":"getting_started/#option-2-using-cookiecutter-directly","title":"Option 2: Using Cookiecutter Directly","text":"<p>If you prefer to use the standard cookiecutter tool (useful when working with multiple templates):</p> <pre><code># First, install cookiecutter if you haven't\npipx install cookiecutter\n\n# Then create your project\ncookiecutter gh:nhsengland/nhse-rap-cookiecutter\n</code></pre> <p>Why use cookiecutter directly?</p> <p>Using the official cookiecutter tool allows you to:</p> <ul> <li>Use multiple cookiecutter templates in your workflow</li> <li>Leverage cookiecutter's replay feature to recreate projects</li> <li>Use cookiecutter's config file in <code>~/.cookiecutterrc</code></li> <li>Integrate with existing cookiecutter-based workflows</li> </ul>"},{"location":"getting_started/#what-youll-be-prompted-for","title":"What You'll Be Prompted For","text":"<p>Both methods will prompt you for:</p> <ul> <li>Project name</li> <li>Author information</li> <li>Organization details</li> <li>Technical configuration (Python version, environment manager, etc.)</li> </ul>"},{"location":"getting_started/#example-session","title":"Example Session","text":"<pre><code>$ nhs-rap-template\nproject_name [project_name]: My NHS Analysis\nrepo_name [my_nhs_analysis]:\nmodule_name [my_nhs_analysis]:\nauthor_name [Your Name]: Jane Smith\nauthor_email [your.email@example.com]: jane.smith@nhs.net\norganization_name [Your Organization]: NHS England\norganization_email [contact@example.com]: datascience@nhs.net\ndescription [A short description of the project.]: Analysis of patient outcomes\npython_version_number [3.10]: 3.11\nSelect environment_manager:\n1 - virtualenv\n2 - conda\n3 - pipenv\n4 - uv\n5 - pixi\n6 - poetry\n7 - none\nChoose from 1, 2, 3, 4, 5, 6, 7 [1]: 4\n...\n</code></pre>"},{"location":"getting_started/#quick-start-after-creation","title":"Quick Start After Creation","text":"<p>After your project is created:</p> <pre><code># Navigate to your project\ncd my_nhs_analysis\n\n# Set up environment (if using UV)\nuv sync\n\n# Install pre-commit hooks\nuv run pre-commit install\n\n# Run tests\nuv run pytest tests/\n\n# Build documentation\nuv run mkdocs serve\n</code></pre>"},{"location":"getting_started/#next-steps","title":"Next Steps","text":"<ul> <li>Read the Usage Guide for detailed information on using the template</li> <li>Explore the generated project structure</li> <li>See the Contributing Guide for development setup</li> </ul>"},{"location":"usage/","title":"Usage","text":""},{"location":"usage/#creating-a-new-project","title":"Creating a New Project","text":"<p>There are two ways to create a new NHS RAP project:</p>"},{"location":"usage/#method-1-using-the-nhs-rap-template-cli","title":"Method 1: Using the NHS RAP Template CLI","text":"<p>If you installed the <code>nhs-rap-cookiecutter</code> package:</p> <pre><code>nhs-rap-template\n</code></pre>"},{"location":"usage/#method-2-using-official-cookiecutter","title":"Method 2: Using Official Cookiecutter","text":"<p>If you want to use this alongside other cookiecutter templates or prefer the standard cookiecutter workflow:</p> <pre><code># Install cookiecutter if needed\npipx install cookiecutter\n# or: pip install cookiecutter\n\n# Create project from GitHub\ncookiecutter gh:nhsengland/nhse-rap-cookiecutter\n\n# Or from a local clone\ncookiecutter /path/to/nhse-rap-cookiecutter\n</code></pre> <p>Both methods will prompt you for configuration options and generate a complete project structure.</p>"},{"location":"usage/#which-method-should-i-use","title":"Which Method Should I Use?","text":"<p>Use NHS RAP Template CLI when:</p> <ul> <li>You primarily work with NHS RAP projects</li> <li>You want the simplest installation and usage</li> <li>You prefer a dedicated command (<code>nhs-rap-template</code>)</li> </ul> <p>Use Cookiecutter when:</p> <ul> <li>You work with multiple project templates</li> <li>You want to integrate with existing cookiecutter workflows</li> <li>You need cookiecutter's advanced features (replay, custom config files)</li> <li>You prefer using a single tool for all your template needs</li> </ul>"},{"location":"usage/#non-interactive-mode","title":"Non-Interactive Mode","text":"<p>For automation or CI/CD, both methods support non-interactive mode:</p> <p>With NHS RAP Template CLI:</p> <pre><code>nhs-rap-template --no-input --config-file my-config.json\n</code></pre> <p>With Cookiecutter:</p> <pre><code>cookiecutter gh:nhsengland/nhse-rap-cookiecutter --no-input\n</code></pre>"},{"location":"usage/#using-specific-template-versions","title":"Using Specific Template Versions","text":"<p>Both methods support using specific versions:</p> <p>With NHS RAP Template CLI:</p> <pre><code># Use latest development version\nnhs-rap-template -c main\n\n# Use a specific tag\nnhs-rap-template -c v1.0.0\n\n# Use a specific commit\nnhs-rap-template -c abc123def\n</code></pre> <p>With Cookiecutter:</p> <pre><code># Use a specific branch\ncookiecutter gh:nhsengland/nhse-rap-cookiecutter --checkout main\n\n# Use a specific tag\ncookiecutter gh:nhsengland/nhse-rap-cookiecutter --checkout v1.0.0\n</code></pre>"},{"location":"usage/#configuration-options","title":"Configuration Options","text":"<p>When you run <code>nhs-rap-template</code>, you'll be prompted for:</p> <ul> <li>Project Name: Human-readable name (e.g., \"My Analysis Project\")</li> <li>Author Details: Your name and email</li> <li>Organization: Organization name and contact email (used in LICENSE)</li> <li>Python Version: Minimum Python version (3.10+)</li> <li>Environment Manager: virtualenv, conda, pipenv, uv, pixi, poetry, or none</li> <li>Dependency File: requirements.txt, pyproject.toml, environment.yml, Pipfile, or pixi.toml</li> <li>PyData Packages: Include pandas, numpy, matplotlib, etc.</li> <li>Dataset Storage: Azure, S3, GCS, or none</li> <li>License: MIT, BSD-3-Clause, or no license</li> <li>Documentation: mkdocs or none</li> </ul>"},{"location":"usage/#generated-project-structure","title":"Generated Project Structure","text":"<p>The template creates a standardized RAP project with:</p> <ul> <li>Data folders: raw, interim, processed, external</li> <li>Source code: Python package structure with your module</li> <li>Documentation: MkDocs setup with NHS styling</li> <li>Testing: pytest configuration</li> <li>Quality: ruff for linting/formatting, pre-commit hooks</li> <li>Reproducibility: Environment management, dependency tracking</li> </ul>"},{"location":"usage/#next-steps-after-generation","title":"Next Steps After Generation","text":"<p>After creating your project:</p> <ol> <li>Navigate to the project:</li> </ol> <pre><code>cd your-project-name\n</code></pre> <ol> <li>Create environment (if using UV):</li> </ol> <pre><code>uv sync\n</code></pre> <ol> <li>Set up pre-commit (optional but recommended):</li> </ol> <pre><code>uv run pre-commit install\n</code></pre> <ol> <li>Start developing:</li> <li>Add your code to the module folder</li> <li>Add tests to the <code>tests/</code> folder</li> <li>Update documentation in <code>docs/</code></li> </ol>"},{"location":"usage/#customizing-after-generation","title":"Customizing After Generation","text":"<p>All generated files can be customized:</p> <ul> <li>Edit <code>pyproject.toml</code> for dependencies</li> <li>Modify <code>Makefile</code> for custom commands</li> <li>Update <code>mkdocs.yml</code> for documentation structure</li> <li>Add custom pre-commit hooks in <code>.pre-commit-config.yaml</code></li> </ul>"},{"location":"usage/#common-workflows","title":"Common Workflows","text":""},{"location":"usage/#adding-dependencies","title":"Adding Dependencies","text":"<p>With UV:</p> <pre><code>uv add pandas numpy\n</code></pre> <p>With pip:</p> <pre><code>pip install pandas numpy\npip freeze &gt; requirements.txt\n</code></pre>"},{"location":"usage/#running-tests","title":"Running Tests","text":"<pre><code>make test\n# or\nuv run pytest tests/\n</code></pre>"},{"location":"usage/#building-documentation","title":"Building Documentation","text":"<pre><code>uv run mkdocs serve\n</code></pre>"},{"location":"usage/#code-quality-checks","title":"Code Quality Checks","text":"<pre><code>make lint    # Check code\nmake format  # Format code\n</code></pre>"},{"location":"usage/#cookiecutter-specific-features","title":"Cookiecutter-Specific Features","text":"<p>When using the official cookiecutter tool, you get additional features:</p>"},{"location":"usage/#using-cookiecutter-replay","title":"Using Cookiecutter Replay","text":"<p>Cookiecutter saves your previous inputs. To recreate a project with the same configuration:</p> <pre><code># Create first project\ncookiecutter gh:nhsengland/nhse-rap-cookiecutter\n\n# Later, replay with same inputs\ncookiecutter gh:nhsengland/nhse-rap-cookiecutter --replay\n</code></pre>"},{"location":"usage/#using-a-cookiecutter-config-file","title":"Using a Cookiecutter Config File","text":"<p>Create <code>~/.cookiecutterrc</code> with default values:</p> <pre><code>default_context:\n    author_name: \"Jane Smith\"\n    author_email: \"jane.smith@nhs.net\"\n    organization_name: \"NHS England\"\n    organization_email: \"datascience@nhs.net\"\n    python_version_number: \"3.11\"\n    environment_manager: \"uv\"\n    linting_and_formatting: \"ruff\"\n</code></pre> <p>Then cookiecutter will use these as defaults:</p> <pre><code>cookiecutter gh:nhsengland/nhse-rap-cookiecutter\n# Will pre-fill with your defaults!\n</code></pre>"},{"location":"usage/#using-multiple-templates","title":"Using Multiple Templates","text":"<p>With cookiecutter, you can easily switch between different templates:</p> <pre><code># NHS RAP template for analytical projects\ncookiecutter gh:nhsengland/nhse-rap-cookiecutter\n\n# Different template for web applications\ncookiecutter gh:cookiecutter/cookiecutter-django\n\n# Your organization's custom template\ncookiecutter gh:your-org/your-template\n</code></pre>"},{"location":"usage/#templating-from-local-directory","title":"Templating from Local Directory","text":"<p>Useful when developing or customizing the template:</p> <pre><code># Clone the template\ngit clone https://github.com/nhsengland/nhse-rap-cookiecutter.git\n\n# Make local modifications\ncd nhse-rap-cookiecutter\n# ... edit template files ...\n\n# Use your modified template\ncookiecutter ../nhse-rap-cookiecutter\n</code></pre>"}]}